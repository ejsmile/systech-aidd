# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Шаблон переменных окружения для production развертывания
# Скопируйте этот файл в .env и заполните реальными значениями

# =============================================================================
# ОБЯЗАТЕЛЬНЫЕ ПЕРЕМЕННЫЕ
# =============================================================================

# Telegram Bot Token
# Получить: @BotFather в Telegram -> /newbot -> скопировать токен
# Формат: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz123456789
TELEGRAM_TOKEN=your_telegram_bot_token_here

# OpenRouter API Key
# Получить: https://openrouter.ai/ -> API Keys -> Create Key
# Формат: sk-or-v1-1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcd
OPENROUTER_API_KEY=your_openrouter_api_key_here

# =============================================================================
# БАЗА ДАННЫХ
# =============================================================================

# Строка подключения к PostgreSQL
# Внутренний адрес postgres - сервис в Docker Compose
DATABASE_URL=postgresql+asyncpg://aidd_user:aidd_password@postgres:5432/aidd_db

# Настройки PostgreSQL (используются в docker-compose.prod.yml)
POSTGRES_USER=aidd_user
POSTGRES_PASSWORD=your_strong_postgres_password_here
POSTGRES_DB=aidd_db

# =============================================================================
# НАСТРОЙКИ LLM
# =============================================================================

# Базовый URL для OpenRouter API
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Модель для использования
# Рекомендуемые модели:
# - openai/gpt-4o-mini:free (бесплатная, быстрая)
# - openai/gpt-4o:free (бесплатная, качественная)
# - anthropic/claude-3.5-sonnet:free (бесплатная, очень качественная)
MODEL_NAME=openai/gpt-4o-mini:free

# Путь к файлу с системным промптом
SYSTEM_PROMPT_FILE=prompts/system.txt

# =============================================================================
# НАСТРОЙКИ БОТА
# =============================================================================

# Максимальное количество сообщений в истории для контекста
# Рекомендуется: 10-30 для экономии токенов
MAX_HISTORY_MESSAGES=20

# Температура генерации (0.0 - детерминированно, 1.0 - креативно)
# Рекомендуется: 0.7 для баланса качества и разнообразия
TEMPERATURE=0.7

# =============================================================================
# ЛОГИРОВАНИЕ
# =============================================================================

# Уровень логирования
# Варианты: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Для production рекомендуется: INFO или WARNING
LOG_LEVEL=INFO

# =============================================================================
# РЕКОМЕНДАЦИИ ПО БЕЗОПАСНОСТИ
# =============================================================================

# 1. POSTGRES_PASSWORD: Используйте сложный пароль (минимум 16 символов)
#    Пример: MyStr0ng!P@ssw0rd#2024
#
# 2. TELEGRAM_TOKEN: Храните в безопасности, не публикуйте в git
#
# 3. OPENROUTER_API_KEY: Ограничьте использование в настройках OpenRouter
#
# 4. Файл .env: Добавьте в .gitignore, не коммитьте в репозиторий
#
# 5. Права доступа: chmod 600 .env (только владелец может читать/писать)

# =============================================================================
# ПРОВЕРКА КОНФИГУРАЦИИ
# =============================================================================

# После заполнения всех переменных выполните:
# 1. docker compose -f docker-compose.prod.yml config
# 2. docker compose -f docker-compose.prod.yml pull
# 3. docker compose -f docker-compose.prod.yml up -d
# 4. ./scripts/deploy-check.sh

# =============================================================================
# ПРИМЕРЫ ЗНАЧЕНИЙ
# =============================================================================

# TELEGRAM_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz123456789
# OPENROUTER_API_KEY=sk-or-v1-1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcd
# POSTGRES_PASSWORD=MyStr0ng!P@ssw0rd#2024
# MODEL_NAME=anthropic/claude-3.5-sonnet:free
# MAX_HISTORY_MESSAGES=15
# TEMPERATURE=0.8
# LOG_LEVEL=WARNING

# =============================================================================
# CORS НАСТРОЙКИ
# =============================================================================

# Разрешенные origins для CORS (через запятую)
# По умолчанию включает localhost и production сервер
CORS_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000,http://localhost:3001,http://127.0.0.1:5173,http://127.0.0.1:5174,http://127.0.0.1:3000,http://127.0.0.1:3001,http://83.147.246.172:3001
