# Концепция LLM-ассистента

## Описание проекта

LLM-ассистент - это полноценный ИИ-продукт с четко определенной ролью, реализованный в виде Telegram-бота для взаимодействия с пользователями. Ассистент выполняет конкретную функцию, заданную через системный промпт, который определяет его специализацию и стиль общения.

## Основные характеристики

### Платформа
- **Форма реализации**: Telegram-бот
- **Интерфейс взаимодействия**: Текстовый диалог в мессенджере Telegram

### Функциональность

#### Основная задача
Вести диалог с пользователем и отвечать на его вопросы в соответствии с ролью, заданной в системном промпте LLM.

#### Ключевые возможности
- Диалоговый интерфейс через Telegram
- Контекстное понимание запросов пользователя
- Ответы в рамках четко определенной роли
- Настраиваемый системный промпт, хранящийся в файле, для определения поведения и специализации бота
- Команда `/role` для отображения текущей роли ассистента
- Персистентное хранение истории диалогов в PostgreSQL (soft delete, сохраняется между перезапусками)

## Техническая архитектура

### Компоненты
1. **Telegram Bot API** - для взаимодействия с пользователями
2. **LLM (Large Language Model)** - для генерации ответов
3. **Системный промпт (файл)** - для четкого определения роли и поведения ассистента
4. **PostgreSQL** - персистентное хранение истории диалогов
5. **Команды управления** - для взаимодействия с функциями бота (`/role`, `/clear`, и др.)

### Принцип работы
1. При запуске бот инициализирует подключение к PostgreSQL и загружает системный промпт из файла
2. Пользователь отправляет сообщение или команду боту в Telegram
3. Бот получает сообщение через Telegram Bot API
4. Сообщение сохраняется в базу данных
5. Запрос обрабатывается LLM с учетом системного промпта и истории диалога из БД
6. Сгенерированный ответ сохраняется в базу данных
7. Ответ отправляется пользователю обратно в Telegram

### Управление ролью
- **Файл системного промпта**: Роль ассистента определяется содержимым файла с системным промптом
- **Команда `/role`**: Отображает текущую роль ассистента, позволяя пользователю понять специализацию бота

