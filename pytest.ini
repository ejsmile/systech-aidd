[pytest]
# Pytest configuration

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Pytest options
addopts = 
    -v
    --strict-markers
    --tb=short

# Asyncio mode
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Environment variables for tests
# Используются для инициализации Config при импорте app.py
# Реальные API вызовы мокаются в тестах
env =
    TELEGRAM_TOKEN=test_token_for_tests
    OPENROUTER_API_KEY=test_api_key_for_tests
    DATABASE_URL=postgresql+asyncpg://test:test@localhost:5432/test
    TESTCONTAINERS_RYUK_DISABLED=true
    LOG_LEVEL=WARNING

