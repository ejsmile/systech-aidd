# –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –°–ø—Ä–∏–Ω—Ç–∞ D0

**–î–∞—Ç–∞:** 2025-10-18

## üêõ Frontend: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–æ–º –ø—É—Ç–µ–π –≤ Docker

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

Frontend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–∞ –ø—É—Ç–µ–π —Å –∞–ª–∏–∞—Å–æ–º `@/`.

### –°–∏–º–ø—Ç–æ–º—ã

```
[plugin:vite:import-analysis] Failed to resolve import "@/api/statistics" 
from "src/pages/Dashboard.tsx". Does the file exist?
```

### –û–∫—Ä—É–∂–µ–Ω–∏–µ

- Vite: 7.1.10
- Node.js: 20-alpine (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
- Docker Compose

### –î–µ—Ç–∞–ª–∏

1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `vite.config.ts` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞:
   ```typescript
   resolve: {
     alias: {
       '@': path.resolve(__dirname, './src'),
     },
   }
   ```

2. –§–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
   ```bash
   $ docker-compose exec frontend ls -la /app/src/api/
   -rw-r--r--  chat.ts
   -rw-r--r--  client.ts
   -rw-r--r--  statistics.ts  ‚úÖ
   ```

3. Volume mount –±—ã–ª –æ—Ç–∫–ª—é—á–µ–Ω (–ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —ç—Ç–æ–º):
   ```yaml
   # volumes:
   #   - ./frontend/src:/app/src  # –û—Ç–∫–ª—é—á–µ–Ω–æ
   ```

4. –û–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–ª—Å—è –±–µ–∑ –∫—ç—à–∞ - –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å `tsconfig.json` paths:**
   - –í–æ–∑–º–æ–∂–Ω–æ, Vite –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç tsconfig paths –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏

2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å `__dirname` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:**
   - `path.resolve(__dirname, './src')` –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ Node.js/Vite:**
   - –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É, –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å—Ç–∞—Ä—ã–π –∫—ç—à

### –°—Ç–∞—Ç—É—Å

‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ MVP

- ‚úÖ API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Bot —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è Frontend –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Docker (–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ)

**–î–ª—è MVP:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å D0 - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Docker. API –∏ Bot —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### Workaround (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

–ó–∞–ø—É—Å–∫–∞—Ç—å frontend –ª–æ–∫–∞–ª—å–Ω–æ, –∞ –Ω–µ –≤ Docker:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å frontend –≤ Docker
docker-compose stop frontend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
cd frontend
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173 –∏ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ API –≤ Docker (http://localhost:8000).

### –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–î–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø—Ä–∏–Ω—Ç–æ–≤:

1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ –≤–º–µ—Å—Ç–æ alias
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vite
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tsconfig.app.json paths

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å production build –≤–º–µ—Å—Ç–æ dev —Å–µ—Ä–≤–µ—Ä–∞
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Multi-stage build

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –°–æ–∑–¥–∞—Ç—å minimal reproduction case
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å Vite + Docker

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–î–ª—è D0 (MVP):
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å workaround
- ‚úÖ –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–ª–∞–Ω D1/D2 –∫–∞–∫ —É–ª—É—á—à–µ–Ω–∏–µ

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml

–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, volume mount –¥–ª—è frontend –æ—Ç–∫–ª—é—á–µ–Ω:

```yaml
frontend:
  # volumes:
  #   - ./frontend/src:/app/src  # –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ Docker
```

–≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É API –∏ Bot.

---

**–í–∞–∂–Ω–æ:** –≠—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ü–µ–ª—å –°–ø—Ä–∏–Ω—Ç–∞ D0 - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ `docker-compose up`. API, Bot –∏ –ë–î —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

